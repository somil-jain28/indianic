import{g as L}from"./chunk-DCZIZ6XF.js";import{a as F}from"./chunk-QI66OPM3.js";import{B as _,C as w,G as g,K as a,L as t,M as n,N as l,O as b,P as v,Q as d,R as h,S,T as i,U as p,V as f,W as M,ia as E,ja as I,l as u,la as z,m as x,n as O,na as D,o as k,oa as U,qa as T,ra as R,ua as V,w as P,x as y,y as r}from"./chunk-RQ4MRKWP.js";function j(o,s){if(o&1){let e=b();t(0,"div",24)(1,"button",25),v("click",function(){u(e);let m=d(2);return x(m.enroll())}),l(2,"i",26),i(3," Enroll Now \u2014 Free "),n()()}}function B(o,s){if(o&1){let e=b();t(0,"div",24)(1,"button",27),l(2,"i",28),i(3," Enrolled "),n(),t(4,"button",29),v("click",function(){u(e);let m=d(2);return x(m.unenroll())}),l(5,"i",30),i(6,"Unenroll "),n()()}}function $(o,s){if(o&1&&(t(0,"div",31)(1,"small",32),i(2),n(),t(3,"div",33),l(4,"div",34),n()()),o&2){let e=d(2);r(2),M("",e.getCompletedCount()," of ",e.course.lessons.length," completed"),r(2),h("width",e.lessonProgress,"%")}}function A(o,s){if(o&1&&(t(0,"div",35)(1,"div",36),l(2,"iframe",37),n()()),o&2){let e=d(2);r(2),a("src",e.trustedPreviewUrl,y)}}function H(o,s){if(o&1){let e=b();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"button",7),v("click",function(){u(e);let m=d();return x(m.goBack())}),l(6,"i",8),i(7,"Back to courses"),n()(),t(8,"div",9)(9,"span",10),i(10),n(),t(11,"span",11),i(12),n()(),t(13,"h1",12),i(14),n(),t(15,"p",13),i(16),n(),t(17,"div",14)(18,"div",15),l(19,"i",16),t(20,"div")(21,"small",17),i(22,"Instructor"),n(),t(23,"span",18),i(24),n()()(),t(25,"div",15),l(26,"i",19),t(27,"div")(28,"small",17),i(29,"Lessons"),n(),t(30,"span",18),i(31),n()()()(),t(32,"div",20),g(33,j,4,0,"div",21)(34,B,7,0,"div",21),n(),g(35,$,5,4,"div",22),n(),g(36,A,3,1,"div",23),n()()()}if(o&2){let e=d();h("background-image","linear-gradient(135deg, rgba(26, 31, 54, 0.9) 0%, rgba(45, 46, 79, 0.9) 100%), url("+e.course.imageUrl+")")("background-size","cover")("background-position","center"),r(10),p(e.course.level),r(2),p(e.course.category),r(2),p(e.course.title),r(2),p(e.course.description),r(8),p(e.course.instructor),r(7),f("",e.course.lessons.length," lessons"),r(2),a("ngIf",!e.isEnrolled),r(),a("ngIf",e.isEnrolled),r(),a("ngIf",e.isEnrolled),r(),a("ngIf",e.trustedPreviewUrl)}}function Y(o,s){o&1&&(t(0,"span",76),l(1,"i",77),i(2," Video "),n())}function G(o,s){o&1&&(t(0,"span",76),l(1,"i",78),i(2," PDF "),n())}function J(o,s){if(o&1&&(t(0,"a",79),l(1,"i",77),i(2," Watch "),n()),o&2){let e=d().$implicit;a("href",e.videoUrl,P)}}function W(o,s){if(o&1&&(t(0,"a",80),l(1,"i",81),i(2," Download "),n()),o&2){let e=d().$implicit;a("href",e.pdfUrl,P)}}function q(o,s){if(o&1){let e=b();t(0,"div",62)(1,"div",63)(2,"span"),i(3),n()(),t(4,"div",64)(5,"h5",65),i(6),n(),t(7,"div",66),g(8,Y,3,0,"span",67)(9,G,3,0,"span",67),t(10,"span",68),i(11,"45:00"),n()()(),t(12,"div",69)(13,"label",70)(14,"input",71),v("change",function(){let m=u(e).$implicit,C=d(2);return x(C.toggleLesson(m))}),n(),l(15,"span",72),n(),t(16,"div",73),g(17,J,3,1,"a",74)(18,W,3,1,"a",75),n()()()}if(o&2){let e=s.$implicit,c=s.index;r(3),p(c+1),r(2),S("completed",e.completed),r(),p(e.title),r(2),a("ngIf",e.videoUrl&&e.videoUrl!=="#"),r(),a("ngIf",e.pdfUrl&&e.pdfUrl!=="#"),r(5),a("checked",e.completed),r(3),a("ngIf",e.videoUrl&&e.videoUrl!=="#"),r(),a("ngIf",e.pdfUrl&&e.pdfUrl!=="#")}}function K(o,s){if(o&1&&(t(0,"div",3)(1,"div",38)(2,"div",39)(3,"div",40)(4,"div",41)(5,"h3"),i(6,"Course Content"),n(),t(7,"p",32),i(8),n()(),t(9,"div",42),g(10,q,19,9,"div",43),n()()(),t(11,"div",44)(12,"div",45)(13,"div",46)(14,"h5"),i(15,"Your Progress"),n(),t(16,"div",47)(17,"div",48),O(),t(18,"svg",49),l(19,"circle",50)(20,"circle",51),n(),k(),t(21,"div",52)(22,"span",53),i(23),n()()()(),t(24,"p",54),i(25),n()(),t(26,"div",55)(27,"h5"),i(28,"Course Details"),n(),t(29,"ul",56)(30,"li"),l(31,"i",57),t(32,"span"),i(33),n()(),t(34,"li"),l(35,"i",58),t(36,"span"),i(37),n()(),t(38,"li"),l(39,"i",19),t(40,"span"),i(41),n()(),t(42,"li"),l(43,"i",59),t(44,"span"),i(45,"~2 hours"),n()()()(),t(46,"a",60),l(47,"i",61),i(48," My Learning "),n()()()()()),o&2){let e=d();r(8),f("",e.course.lessons.length," lessons \u2022 Enroll to track progress"),r(2),a("ngForOf",e.course.lessons),r(10),h("stroke-dashoffset",314-314*e.lessonProgress/100),r(3),f("",e.lessonProgress,"%"),r(2),M("",e.getCompletedCount()," of ",e.course.lessons.length," completed"),r(8),p(e.course.instructor),r(4),f("",e.course.level," Level"),r(4),f("",e.course.lessons.length," Lessons")}}var N=class o{constructor(s,e,c,m){this.route=s;this.router=e;this.service=c;this.sanitizer=m;let C=Number(this.route.snapshot.paramMap.get("id"));this.course=this.service.getCourseById(C),this.course&&this.course.previewUrl&&(this.trustedPreviewUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.course.previewUrl))}course;trustedPreviewUrl=null;isEnrolled=!1;lessonProgress=0;ngOnInit(){this.course&&(this.isEnrolled=this.service.getEnrolled().includes(this.course.id),this.updateProgress())}enroll(){this.course&&(this.service.enroll(this.course.id),this.isEnrolled=!0)}unenroll(){if(!this.course)return;let e=this.service.getEnrolled().filter(c=>c!==this.course.id);localStorage.setItem("enrolled",JSON.stringify(e)),this.isEnrolled=!1}toggleLesson(s){this.course&&(s.completed=!s.completed,this.service.setLessonCompleted(this.course.id,s.id,s.completed),this.updateProgress())}updateProgress(){if(!this.course)return;let s=this.course.lessons.length,e=this.course.lessons.filter(c=>c.completed).length;this.lessonProgress=s>0?Math.round(e/s*100):0}goBack(){this.router.navigate(["/"])}getCompletedCount(){return this.course?this.course.lessons.filter(s=>s.completed).length:0}static \u0275fac=function(e){return new(e||o)(_(U),_(T),_(F),_(D))};static \u0275cmp=w({type:o,selectors:[["app-course-detail"]],decls:2,vars:2,consts:[["class","detail-hero position-relative",3,"background-image","background-size","background-position",4,"ngIf"],["class","container-lg py-5",4,"ngIf"],[1,"detail-hero","position-relative"],[1,"container-lg","py-5"],[1,"row","align-items-center","gap-4"],[1,"col-lg-7"],[1,"hero-breadcrumb"],[1,"btn-back","position-absolute","top-0","start-0","mt-3","ms-3",3,"click"],[1,"bi","bi-arrow-left","me-2"],[1,"badge-container","mt-3","mb-3"],[1,"badge","rounded-pill","bg-success"],[1,"badge","rounded-pill","bg-secondary","ms-2"],[1,"hero-title"],[1,"hero-desc"],[1,"hero-meta","mb-4"],[1,"meta-item"],[1,"bi","bi-person-circle"],[1,"meta-label"],[1,"meta-value"],[1,"bi","bi-book"],[1,"enrollment-section"],["class","d-flex gap-2",4,"ngIf"],["class","progress-bar-hero",4,"ngIf"],["class","col-lg-5",4,"ngIf"],[1,"d-flex","gap-2"],[1,"btn","btn-success","btn-lg",3,"click"],[1,"bi","bi-check-circle"],["disabled","",1,"btn","btn-enrolled"],[1,"bi","bi-check-circle-fill"],[1,"btn","btn-unenroll",3,"click"],[1,"bi","bi-x-circle","me-2"],[1,"progress-bar-hero"],[1,"text-muted"],[1,"progress","mt-2"],[1,"progress-bar","bg-success"],[1,"col-lg-5"],[1,"video-container"],["allow","autoplay; encrypted-media; picture-in-picture","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer",1,"video-iframe",3,"src"],[1,"row"],[1,"col-lg-8"],[1,"course-content-section"],[1,"section-header"],[1,"lessons-list"],["class","lesson-item",4,"ngFor","ngForOf"],[1,"col-lg-4"],[1,"progress-sidebar"],[1,"progress-card"],[1,"progress-stat"],[1,"progress-circle"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","45",1,"progress-bg"],["cx","50","cy","50","r","45",1,"progress-fill"],[1,"progress-text"],[1,"progress-percent"],[1,"text-muted","text-center"],[1,"sidebar-card"],[1,"details-list"],[1,"bi","bi-person"],[1,"bi","bi-bar-chart"],[1,"bi","bi-clock"],["routerLink","/enrolled",1,"btn","btn-outline-primary","w-100"],[1,"bi","bi-bookmark"],[1,"lesson-item"],[1,"lesson-number"],[1,"lesson-info"],[1,"lesson-title"],[1,"lesson-meta"],["class","meta-badge",4,"ngIf"],[1,"duration"],[1,"lesson-actions"],[1,"checkbox-custom"],["type","checkbox",3,"change","checked"],[1,"checkmark"],[1,"action-buttons"],["target","_blank","class","btn btn-sm btn-outline-primary",3,"href",4,"ngIf"],["target","_blank","class","btn btn-sm btn-outline-secondary",3,"href",4,"ngIf"],[1,"meta-badge"],[1,"bi","bi-play-circle"],[1,"bi","bi-file-pdf"],["target","_blank",1,"btn","btn-sm","btn-outline-primary",3,"href"],["target","_blank",1,"btn","btn-sm","btn-outline-secondary",3,"href"],[1,"bi","bi-download"]],template:function(e,c){e&1&&g(0,H,37,16,"div",0)(1,K,49,10,"div",1),e&2&&(a("ngIf",c.course),r(),a("ngIf",c.course))},dependencies:[z,E,I,L,V,R],styles:['.enrollment-section[_ngcontent-%COMP%]{margin-bottom:20px}.btn-enrolled[_ngcontent-%COMP%]{background:#20c997;color:#fff;border:none;padding:12px 32px;font-weight:600;font-size:1rem;border-radius:6px;cursor:not-allowed;opacity:1}.btn-unenroll[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:2px solid rgba(255,255,255,.3);padding:10px 32px;font-weight:600;font-size:1rem;border-radius:6px;cursor:pointer;transition:all .3s ease}.btn-unenroll[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:#ffffff80;transform:translateY(-2px)}.progress-bar-hero[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid rgba(255,255,255,.2)}.detail-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1f36f2,#2d2e4ff2);color:#fff;padding:60px 20px;margin-bottom:0;animation:_ngcontent-%COMP%_fadeInHero .6s ease}.hero-breadcrumb[_ngcontent-%COMP%]{margin-bottom:16px}.btn-back[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-back[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translate(-2px)}.hero-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:16px;line-height:1.2}.hero-desc[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;margin-bottom:24px;opacity:.95}.hero-meta[_ngcontent-%COMP%]{display:flex;gap:32px;margin-bottom:24px}.hero-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.hero-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:2px}.meta-label[_ngcontent-%COMP%]{opacity:.8;font-size:.85rem;display:block}.meta-value[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;display:block}.btn-success[_ngcontent-%COMP%]{background:#20c997;border:none;padding:12px 32px;font-weight:600;font-size:1rem;transition:all .3s ease}.btn-success[_ngcontent-%COMP%]:hover{background:#1aa179;transform:translateY(-2px);box-shadow:0 8px 24px #20c9974d}.video-container[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;box-shadow:0 12px 40px #00000026;animation:_ngcontent-%COMP%_slideInRight .6s ease}.video-iframe[_ngcontent-%COMP%]{width:100%;height:100%;min-height:290px;border:none}.course-content-section[_ngcontent-%COMP%]{margin-top:40px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;border-bottom:2px solid #e9ecef;padding-bottom:20px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#1a1f36;margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.lessons-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.lesson-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;background:#fff;border:1px solid #e9ecef;border-radius:8px;transition:all .3s ease}.lesson-item[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 12px #667eea1a}.lesson-number[_ngcontent-%COMP%]{min-width:40px;width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem}.lesson-info[_ngcontent-%COMP%]{flex:1}.lesson-title[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#1a1f36;margin-bottom:6px;transition:all .3s ease}.lesson-title.completed[_ngcontent-%COMP%]{opacity:.6;text-decoration:line-through;color:#999}.lesson-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.meta-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;background:#f0f3ff;color:#667eea;border-radius:4px;font-size:.8rem;font-weight:500}.duration[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;margin-left:auto}.lesson-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.checkbox-custom[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative}.checkbox-custom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.checkmark[_ngcontent-%COMP%]{width:24px;height:24px;border:2px solid #667eea;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.checkbox-custom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background:#667eea;color:#fff}.checkbox-custom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{content:"\\2713";font-size:1rem;font-weight:700}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:6px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 12px;white-space:nowrap}.progress-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.progress-card[_ngcontent-%COMP%], .sidebar-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9ecef;border-radius:12px;padding:24px}.progress-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .sidebar-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;color:#1a1f36;margin-bottom:16px}.progress-stat[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.progress-circle[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;margin:0 auto}.progress-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.progress-bg[_ngcontent-%COMP%]{fill:none;stroke:#e9ecef;stroke-width:4}.progress-fill[_ngcontent-%COMP%]{fill:none;stroke:url(#gradient);stroke-width:4;stroke-linecap:round;stroke-dasharray:314;stroke-dashoffset:314;transition:stroke-dashoffset .6s ease;transform:rotate(-90deg);transform-origin:50% 50%}.progress-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.progress-percent[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#667eea}.details-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.details-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid #e9ecef;color:#6c757d}.details-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.details-list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea;font-size:1.1rem;min-width:20px}@keyframes _ngcontent-%COMP%_fadeInHero{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}']})};export{N as CourseDetailComponent};
